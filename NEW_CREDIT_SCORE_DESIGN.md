# Kredi PuanÄ± Sistemi - Banka KarlÄ±lÄ±ÄŸÄ± OdaklÄ±

## ğŸ“Š Genel YapÄ±

**Puan AralÄ±ÄŸÄ±:** 0 - 1000 puan
**BaÅŸlangÄ±Ã§ PuanÄ±:** 500 puan (orta seviye)
**GÃ¼ncelleme:** Her iÅŸlemde anlÄ±k
**MantÄ±k:** Bankaya ne kadar para kazandÄ±rÄ±rsan o kadar puan
**Hedef:** Orta vadeli, dengeli ilerleme (1-2 hafta)

---

## ğŸ’° Ä°ÅŸlem BazlÄ± Puan KurallarÄ± (BANKA KARLILIK ODAKLI)

### ğŸ† YÃœKSEK PUAN (Bankaya Ã‡ok Para KazandÄ±ran)

#### 1. MEVDUAT HESABI AÃ‡MA
**MantÄ±k:** BankanÄ±n en karlÄ± mÃ¼ÅŸterisi! Para yatÄ±rÄ±p faiz alÄ±rsÄ±n ama banka o parayÄ± kullanarak daha fazla kazanÄ±r.

**FormÃ¼l:** `Puan = (Miktar / 5000) + (Faiz OranÄ± Ã— 10) + 20`

**Ã–rnekler:**
- 50,000 TL, %5 faiz â†’ (50000/5000) + (5Ã—10) + 20 = **+80 puan** ğŸ”¥
- 100,000 TL, %10 faiz â†’ (100000/5000) + (10Ã—10) + 20 = **+140 puan** ğŸ”¥
- 200,000 TL, %3 faiz â†’ (200000/5000) + (3Ã—10) + 20 = **+90 puan**

**Bonus:** SÃ¼re Ã¶nemli deÄŸil, miktar ve faiz oranÄ± Ã¶nemli!

---

#### 2. KREDÄ° FAÄ°ZÄ° Ã–DEME (Bankaya Direkt Gelir!)
**MantÄ±k:** Kredi faizi bankanÄ±n en bÃ¼yÃ¼k gelir kaynaÄŸÄ±!

**FormÃ¼l:** `Puan = (Ã–denen Faiz / 100) + 30`

**Ã–rnekler:**
- 100,000 TL kredi, %6 faiz, tam Ã¶deme â†’ Ã–denen faiz: 6,000 TL
  â†’ (6000/100) + 30 = **+90 puan** ğŸ”¥
  
- 500,000 TL kredi, %10 faiz â†’ Faiz: 50,000 TL
  â†’ (50000/100) + 30 = **+530 puan** ğŸ”¥ğŸ”¥ğŸ”¥
  
- 50,000 TL kredi, %5 faiz â†’ Faiz: 2,500 TL
  â†’ (2500/100) + 30 = **+55 puan**

**Not:** Sadece TAM Ã–DEME yapÄ±lÄ±rsa puan verilir (Ã§Ã¼nkÃ¼ banka kazancÄ±nÄ± almÄ±ÅŸ olur)

---

### ğŸ’š ORTA PUAN (Bankaya KatkÄ± SaÄŸlayan)

#### 3. PARA YATIRMA (Likidite SaÄŸlar)
**MantÄ±k:** Bakiye artÄ±ÅŸÄ± bankanÄ±n gÃ¼cÃ¼nÃ¼ artÄ±rÄ±r, ama direkt kazanÃ§ deÄŸil.

**FormÃ¼l:** `Puan = Miktar / 20000`

**Ã–rnekler:**
- 20,000 TL â†’ **+1 puan**
- 100,000 TL â†’ **+5 puan**
- 500,000 TL â†’ **+25 puan**
- 1,000,000 TL â†’ **+50 puan**

---

#### 4. YÃœKSEK BAKÄ°YE TUTMA (GÃ¼nlÃ¼k Bonus)
**MantÄ±k:** YÃ¼ksek bakiye bankanÄ±n kullanabileceÄŸi para havuzunu artÄ±rÄ±r.

**FormÃ¼l:** GÃ¼nde 1 kez hesaplanÄ±r: `Bonus = Bakiye / 100000`

**Ã–rnekler:**
- 100,000 TL bakiye â†’ GÃ¼nde **+1 puan**
- 500,000 TL bakiye â†’ GÃ¼nde **+5 puan**
- 1,000,000 TL bakiye â†’ GÃ¼nde **+10 puan**

**Not:** Her gece 00:00'da otomatik eklenir

---

#### 5. TRANSFER YAPMA (Ä°ÅŸlem Ãœcreti)
**MantÄ±k:** Her transferden banka kÃ¼Ã§Ã¼k bir Ã¼cret alÄ±r.

**FormÃ¼l:** `Puan = (Miktar Ã— Transfer Ãœcreti) / 1000`

**Ã–rnekler:**
- 100,000 TL transfer, %2 Ã¼cret â†’ (100000 Ã— 0.02) / 1000 = **+2 puan**
- 500,000 TL transfer, %3 Ã¼cret â†’ (500000 Ã— 0.03) / 1000 = **+15 puan**

---

### âš ï¸ DÃœÅÃœK/NEGATÄ°F PUAN (Bankaya YÃ¼k)

#### 6. PARA Ã‡EKME
**MantÄ±k:** Likidite azalÄ±r, banka zayÄ±flar.

**FormÃ¼l:** `Puan = -(Miktar / 50000)`

**Ã–rnekler:**
- 50,000 TL â†’ **-1 puan**
- 100,000 TL â†’ **-2 puan**
- 500,000 TL â†’ **-10 puan**

---

#### 7. KREDÄ° ALMA (Risk!)
**MantÄ±k:** Kredi vermek risk, ama faiz geliri var. AÃ§Ä±lÄ±ÅŸta kÃ¼Ã§Ã¼k ceza.

**FormÃ¼l:** `Puan = -20 (sabit aÃ§Ä±lÄ±ÅŸ cezasÄ±)`

**Ã–rnekler:**
- Her kredi â†’ **-20 puan**

**Not:** Ama krediyi Ã¶deyince faiz Ã¼zerinden bÃ¼yÃ¼k puan gelir!

---

#### 8. MEVDUAT ERKEN BOZMA (Ã‡ok KÃ¶tÃ¼!)
**MantÄ±k:** Banka planladÄ±ÄŸÄ± kazancÄ± kaybeder.

**FormÃ¼l:** `Puan = -(AÃ§Ä±lÄ±ÅŸta KazanÄ±lan Puan) - 50`

**Ã–rnekler:**
- 100,000 TL mevduat aÃ§mÄ±ÅŸtÄ± (+140 puan)
- Erken bozdu â†’ **-190 puan** (140 + 50 ek ceza) ğŸ’€

---

#### 9. HESAP KAPATMA
**MantÄ±k:** MÃ¼ÅŸteri kaybÄ±.

**FormÃ¼l:** `Puan = -30 (sabit)`

---

### ğŸ BONUS SÄ°STEMÄ°

#### 10. MEVDUAT TAMAMLAMA BONUSU
**MantÄ±k:** AnlaÅŸma tamamlandÄ±, banka kazandÄ±!

**FormÃ¼l:** `Bonus = +20 puan (sabit)`

**Ã–rnek:**
- Mevduat sÃ¼resi dolunca otomatik â†’ **+20 puan**
- **Toplam KazanÃ§:** AÃ§Ä±lÄ±ÅŸ (+80-140) + Tamamlama (+20) = **+100-160 puan!**

---

#### 11. SADAKAT BONUSU (Her 10 BaÅŸarÄ±lÄ± Mevduat)
**FormÃ¼l:** `Bonus = +50 puan`

**Ã–rnek:**
- 10. mevduatÄ± tamamladÄ±n â†’ **+50 puan**
- 20. mevduat â†’ **+50 puan**

---

## ğŸ›¡ï¸ SPAM Ã–NLEMÄ° (Minimal)

### GÃ¼nlÃ¼k Bakiye Bonusu Limiti
- GÃ¼nlÃ¼k bakiye bonusu maksimum **+15 puan**
- Ã–rnek: 2 milyon TL bakiye â†’ GÃ¼nde +20 hesaplanÄ±r ama +15 uygulanÄ±r

### DiÄŸer Ä°ÅŸlemlerde Limit Yok
- Mevduat, kredi, yatÄ±rma, Ã§ekme â†’ Limit yok
- GerÃ§ek iÅŸlemler, gerÃ§ek puan

---

## ğŸ“Š KREDÄ° LÄ°MÄ°TLERÄ° (0-1000 Puan)

| Kredi PuanÄ± | Maksimum Kredi | Faiz Ä°ndirimi |
|-------------|----------------|---------------|
| 0-100       | KREDÄ° YOK      | - |
| 101-200     | 30,000 TL      | Normal faiz |
| 201-300     | 50,000 TL      | Normal faiz |
| 301-400     | 100,000 TL     | -0.5% |
| 401-500     | 250,000 TL     | -0.5% |
| 501-600     | 500,000 TL     | -1% |
| 601-700     | 1,000,000 TL   | -1.5% |
| 701-800     | 2,000,000 TL   | -2% |
| 801-900     | 5,000,000 TL   | -2.5% |
| 901-1000    | 10,000,000 TL  | -3% |

---

## ğŸ’¡ Ã–RNEK SENARYOLAR (BASÄ°T HES APLAMA)

### Senaryo 1: Yeni Oyuncu (BaÅŸlangÄ±Ã§: 500 puan)
```
GÃ¼n 1:
- 100,000 TL yatÄ±r â†’ +10 puan (510 puan)
- 50,000 TL, 3 saat mevduat aÃ§ â†’ +50 puan (560 puan)
- 3 saat sonra mevduat tamamlanÄ±r â†’ +10 puan (570 puan)

GÃ¼n 2:
- 200,000 TL kredi al â†’ -50 puan (520 puan)
- Krediyi tam Ã¶de â†’ +50 puan (570 puan)

SONUÃ‡: 500 â†’ 570 puan (+70 puan, 2 gÃ¼nde)
```

### Senaryo 1: AkÄ±llÄ± Mevduat Oyuncusu (En KarlÄ±!)
```
BaÅŸlangÄ±Ã§: 500 puan

GÃ¼n 1:
- 200,000 TL yatÄ±r â†’ +10 puan (510)
- 150,000 TL mevduat aÃ§ (%8 faiz) â†’ +110 puan (620)

GÃ¼n 7 (mevduat tamamlanÄ±r):
- Bakiye bonusu (200k) â†’ +2Ã—7 = +14 puan (634)
- Mevduat tamamlama â†’ +20 puan (654)

GÃ¼n 8:
- Tekrar 200,000 TL mevduat aÃ§ (%10 faiz) â†’ +140 puan (794)

GÃ¼n 14:
- Bakiye bonusu â†’ +2Ã—7 = +14 (808)
- Mevduat tamamlama â†’ +20 (828)

SONUÃ‡: 500 â†’ 828 puan (2 haftada) â­
Strateji: Mevduat + YÃ¼ksek bakiye = KazanÃ§!
```

### Senaryo 2: Kredi Faizi UstasÄ± (BÃ¼yÃ¼k KazanÃ§!)
```
BaÅŸlangÄ±Ã§: 500 puan

GÃ¼n 1:
- 500,000 TL yatÄ±r â†’ +25 puan (525)
- 500,000 TL kredi al (%10 faiz) â†’ -20 puan (505)

GÃ¼n 30:
- Bakiye bonusu (500k Ã— 30 gÃ¼n) â†’ +5Ã—30 = +150 puan (655)
- Krediyi tam Ã¶de (faiz: 50,000 TL) â†’ +530 puan! (1185 â†’ MAX 1000!)

SONUÃ‡: 500 â†’ 1000 puan (1 ayda) ğŸ”¥
Strateji: BÃ¼yÃ¼k kredi al, yÃ¼ksek faiz Ã¶de = BÃ¼yÃ¼k puan!
```

### Senaryo 3: Dengeli Oyuncu
```
BaÅŸlangÄ±Ã§: 500 puan

Hafta 1:
- 100,000 TL yatÄ±r â†’ +5 (505)
- 80,000 TL mevduat aÃ§ (%5 faiz) â†’ +80 puan (585)
- Bakiye bonusu (7 gÃ¼n Ã— +1) â†’ +7 (592)
- Mevduat tamamlanÄ±r â†’ +20 (612)

Hafta 2:
- 100,000 TL yatÄ±r â†’ +5 (617)
- 100,000 TL kredi al (%8 faiz) â†’ -20 (597)
- Bakiye bonusu (7 gÃ¼n Ã— +2) â†’ +14 (611)
- Krediyi Ã¶de (faiz 8k) â†’ +110 puan (721)

Hafta 3:
- 150,000 TL mevduat aÃ§ (%6 faiz) â†’ +100 (821)
- Bakiye bonusu â†’ +15 (836)
- Mevduat tamamla â†’ +20 (856)

SONUÃ‡: 500 â†’ 856 puan (3 haftada) ğŸ¯
```

### Senaryo 4: KÃ¶tÃ¼ Strateji (Sadece YatÄ±r-Ã‡ek)
```
BaÅŸlangÄ±Ã§: 500 puan

GÃ¼n 1:
- 1,000,000 TL yatÄ±r â†’ +50 (550)

GÃ¼n 2-30:
- Bakiye bonusu (30 gÃ¼n Ã— +10) â†’ +300 (850)

GÃ¼n 31:
- 1,000,000 TL Ã§ek â†’ -20 (830)

SONUÃ‡: 500 â†’ 830 puan (1 ayda)
Strateji: YavaÅŸ ama emin. Ama mevduat daha iyi!
```

### Senaryo 5: Mevduat HatasÄ± (Ã‡ok KÃ¶tÃ¼!)
```
BaÅŸlangÄ±Ã§: 500 puan

- 100,000 TL yatÄ±r â†’ +10 (510 puan)
- 100,000 TL mevduat aÃ§ (%10 faiz) â†’ +140 (650)
- Erken boz (hata!) â†’ -190 puan (140+50 ceza) (460 puan)

SONUÃ‡: Net -40 puan kaybÄ±! Asla erken bozma! ğŸ’€
```

---

## ğŸ”§ VERÄ°TABANI DEÄÄ°ÅÄ°KLÄ°KLERÄ°

### bank_accounts Tablosuna Eklenecek Kolonlar:
```sql
-- Sadece kredi puanÄ±, baÅŸka bir ÅŸey yok (zaten var)
-- credit_score kolonu DECIMAL(7,2) olarak gÃ¼ncellenmeli (0-1000 iÃ§in)

ALTER TABLE bank_accounts MODIFY COLUMN credit_score DECIMAL(7,2) DEFAULT 500.00;
```

### Yeni Log Tablosu (credit_score_changes):
```sql
CREATE TABLE IF NOT EXISTS credit_score_changes (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_id INT NOT NULL,
  bank_id INT NOT NULL,
  bank_account_id INT NOT NULL,
  change_type VARCHAR(50) NOT NULL,
  old_score DECIMAL(7,2) NOT NULL,
  new_score DECIMAL(7,2) NOT NULL,
  points_changed DECIMAL(7,2) NOT NULL,
  amount BIGINT DEFAULT 0,
  reason TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (bank_id) REFERENCES banks(id),
  FOREIGN KEY (bank_account_id) REFERENCES bank_accounts(id),
  INDEX idx_user_bank (user_id, bank_id),
  INDEX idx_created (created_at)
);
```

---

## âš™ï¸ UYGULAMA Ã–NCELÄ°ÄÄ°

1. **Faz 1:** VeritabanÄ± deÄŸiÅŸiklikleri (5 dk)
2. **Faz 2:** Basit hesaplama fonksiyonlarÄ± (15 dk)
3. **Faz 3:** Her endpoint'e entegrasyon (45 dk)
4. **Faz 4:** Frontend'de puan gÃ¶sterimi (20 dk)
5. **Faz 5:** Test (15 dk)

**Toplam SÃ¼re:** ~2 saat (Ã§ok basit sistem)

---

## ğŸ“ˆ BAÅARI KRÄ°TERLERÄ°

âœ… Sistem Ã§ok basit, herkes anlÄ±yor
âœ… Limit yok, sÄ±nÄ±rsÄ±z kazanÃ§/kayÄ±p
âœ… Saf matematik, ÅŸeffaf
âœ… Para yatÄ±ran kazanÄ±r, Ã§eken kaybeder
âœ… Mevduat en karlÄ± strateji (+60 puan)
âœ… Erken mevduat bozma Ã§ok kÃ¶tÃ¼ (-100 puan)
âœ… Zengin oyuncular hÄ±zlÄ± yÃ¼kseliyor

---

## ğŸ® SÄ°STEM MANTÄI

**Basit FormÃ¼ller:**
```javascript
// Para YatÄ±rma
creditScore += Math.floor(amount / 10000);

// Para Ã‡ekme
creditScore -= Math.floor(amount / 10000);
creditScore = Math.max(0, creditScore); // Min 0

// Kredi Alma
creditScore -= 50;

// Kredi Ã–deme (Tam)
if (paidAmount === totalDebt) {
  creditScore += 50;
}

// Mevduat AÃ§ma
creditScore += 50;

// Mevduat Tamamlama
creditScore += 10;

// Mevduat Erken Bozma
creditScore -= 100;
creditScore = Math.max(0, creditScore); // Min 0

// Max kontrol
creditScore = Math.min(1000, creditScore); // Max 1000
```

---

**Son GÃ¼ncelleme:** 2026-01-04
**TasarÄ±m Durumu:** BASÄ°T VE NET - HazÄ±r! ğŸš€
**Uygulama Tahmini:** 2 saat
